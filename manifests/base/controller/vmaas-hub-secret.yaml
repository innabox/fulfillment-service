#
# Copyright (c) 2025 Red Hat Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
#   http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the
# specific language governing permissions and limitations under the License.
#

# Example Secret for VMaaS hub kubeconfig
# To use VMaaS functionality, create this secret with your VMaaS cluster's kubeconfig
# 
# To create from a kubeconfig file:
# kubectl create secret generic vmaas-hub-kubeconfig --from-file=kubeconfig=/path/to/vmaas/kubeconfig
#
# To create manually:
# 1. Base64 encode your kubeconfig: cat /path/to/vmaas/kubeconfig | base64 -w 0
# 2. Replace <BASE64_ENCODED_KUBECONFIG> below with the encoded value
# 3. Apply this secret: kubectl apply -f vmaas-hub-secret.yaml

apiVersion: v1
kind: Secret
metadata:
  name: vmaas-hub-kubeconfig
  namespace: fulfillment-system  # Update this to match your deployment namespace
type: Opaque
data:
  # Replace <BASE64_ENCODED_KUBECONFIG> with your VMaaS cluster's kubeconfig (base64 encoded)
  kubeconfig: <BASE64_ENCODED_KUBECONFIG>

---
# Alternative: If you prefer to use a different namespace or secret name,
# update the controller deployment accordingly:
#
# In manifests/base/controller/deployment.yaml:
# - Update secretName under volumes.vmaas-hub-config
# - Update --vmaas-hub-namespace flag if needed
# - Update --vmaas-hub-id flag if needed